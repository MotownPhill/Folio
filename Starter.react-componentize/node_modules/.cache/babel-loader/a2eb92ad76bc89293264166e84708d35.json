{"ast":null,"code":"import _classCallCheck from \"/home/motownphilly/Folio/starter-task/Starter.react-componentize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/motownphilly/Folio/starter-task/Starter.react-componentize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/motownphilly/Folio/starter-task/Starter.react-componentize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/motownphilly/Folio/starter-task/Starter.react-componentize/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/motownphilly/Folio/starter-task/Starter.react-componentize/src/pages/Login.jsx\";\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport userService from \"../services/users\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Login = /*#__PURE__*/function (_React$Component) {\n  _inherits(Login, _React$Component);\n\n  var _super = _createSuper(Login);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n\n    _this.onFormFieldChange = function (e) {\n      var currentTarget = e.currentTarget;\n      var newValue = currentTarget.value;\n      var inputName = currentTarget.name;\n\n      _this.setState(function () {\n        var newState = {};\n        newState[inputName] = newValue;\n        return newState;\n      });\n    };\n\n    _this.loginBtnClicked = function () {\n      var payload = {\n        email: _this.state.email,\n        password: _this.state.password,\n        tenantId: \"U01TY0VT466\"\n      };\n      userService.login(payload).then(_this.loginSuccess).catch(_this.loginError);\n    };\n\n    _this.loginSuccess = function (response) {\n      _this.setState({\n        loggedIn: true\n      });\n\n      _this.props.setUser(response.data);\n\n      _this.props.history.push(\"/\");\n    };\n\n    _this.loginError = function (response) {\n      console.log(response);\n    };\n\n    _this.registerBtnClick = function () {\n      _this.props.history.push(\"/register\");\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.loggedIn) {\n        return /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 14\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              className: \"form-control\",\n              id: \"email\",\n              name: \"email\",\n              onChange: this.onFormFieldChange,\n              value: this.state.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              className: \"form-control\",\n              id: \"password\",\n              name: \"password\",\n              onChange: this.onFormFieldChange,\n              value: this.state.password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary\",\n            onClick: this.loginBtnClicked,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: this.registerBtnClick,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this);\n      }\n    }\n  }]);\n\n  return Login;\n}(React.Component);\n\nexport default Login;","map":{"version":3,"sources":["/home/motownphilly/Folio/starter-task/Starter.react-componentize/src/pages/Login.jsx"],"names":["React","Redirect","userService","Login","state","email","password","onFormFieldChange","e","currentTarget","newValue","value","inputName","name","setState","newState","loginBtnClicked","payload","tenantId","login","then","loginSuccess","catch","loginError","response","loggedIn","props","setUser","data","history","push","console","log","registerBtnClick","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport userService from \"../services/users\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    email: \"\",\r\n    password: \"\",\r\n  };\r\n\r\n  onFormFieldChange = (e) => {\r\n    let currentTarget = e.currentTarget;\r\n    let newValue = currentTarget.value;\r\n    let inputName = currentTarget.name;\r\n\r\n    this.setState(() => {\r\n      let newState = {};\r\n      newState[inputName] = newValue;\r\n\r\n      return newState;\r\n    });\r\n  };\r\n\r\n  loginBtnClicked = () => {\r\n    let payload = {\r\n      email: this.state.email,\r\n      password: this.state.password,\r\n      tenantId: \"U01TY0VT466\",\r\n    };\r\n\r\n    userService.login(payload).then(this.loginSuccess).catch(this.loginError);\r\n  };\r\n\r\n  loginSuccess = (response) => {\r\n    this.setState({\r\n      loggedIn: true,\r\n    });\r\n\r\n    this.props.setUser(response.data);\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  loginError = (response) => {\r\n    console.log(response);\r\n  };\r\n\r\n  registerBtnClick = () => {\r\n    this.props.history.push(\"/register\");\r\n  };\r\n\r\n  render() {\r\n    if (this.state.loggedIn) {\r\n      return <Redirect to={\"/\"} />;\r\n    } else {\r\n      return (\r\n        <form>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Email</label>\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              onChange={this.onFormFieldChange}\r\n              value={this.state.email}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Password</label>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              onChange={this.onFormFieldChange}\r\n              value={this.state.password}\r\n            />\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={this.loginBtnClicked}\r\n          >\r\n            Login\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-danger\"\r\n            onClick={this.registerBtnClick}\r\n          >\r\n            Register\r\n          </button>\r\n        </form>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}